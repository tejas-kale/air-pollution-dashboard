version: 2

models:
  - name: stg_rolling_24h_mean
    description: "24-hour rolling mean of pollutant measurements by city"
    columns:
      - name: city
        description: "City name"
      - name: timestamp
        description: "Timestamp of measurement"
      - name: pm2_5_24h_mean
        description: "24-hour rolling mean of PM2.5 concentration in μg/m³"
      - name: pm10_24h_mean
        description: "24-hour rolling mean of PM10 concentration in μg/m³"
      - name: no2_24h_mean
        description: "24-hour rolling mean of NO2 concentration in μg/m³"
      - name: so2_24h_mean
        description: "24-hour rolling mean of SO2 concentration in μg/m³"
      - name: co_24h_mean
        description: "24-hour rolling mean of CO concentration in mg/m³"
      - name: valid_measurements
        description: "Number of valid measurements in the 24-hour window"
      - name: total_periods
        description: "Total number of periods in the 24-hour window"
      - name: data_completeness_pct
        description: "Percentage of periods with valid measurements"
      - name: is_actual_reading
        description: "Flag indicating if this is an actual measurement (1) or gap (0)"

  - name: stg_annual_mean
    description: "Annual mean of pollutant measurements by city"
    columns:
      - name: city
        description: "City name"
      - name: year
        description: "Year of measurements"
      - name: pm2_5_annual_mean
        description: "Annual mean of PM2.5 concentration in μg/m³"
      - name: pm10_annual_mean
        description: "Annual mean of PM10 concentration in μg/m³"
      - name: no2_annual_mean
        description: "Annual mean of NO2 concentration in μg/m³"
      - name: measurement_count
        description: "Number of measurements in the year"

  - name: stg_o3_8h_rolling
    description: "Daily maximum 8-hour rolling average of ozone concentrations"
    columns:
      - name: city
        description: "City name"
      - name: date
        description: "Date of measurement"
      - name: daily_max_o3_8h
        description: "Maximum 8-hour rolling average ozone concentration for the day in μg/m³"

  - name: stg_o3_peak_season
    description: "Peak season ozone analysis based on 8-hour rolling averages"
    columns:
      - name: city
        description: "City name"
      - name: date
        description: "Date of measurement"
      - name: daily_max_o3_8h
        description: "Maximum 8-hour rolling average ozone concentration for the day in μg/m³"
      - name: year
        description: "Year of measurement"
      - name: month
        description: "Month of measurement"
      - name: monthly_mean_o3
        description: "Monthly mean of daily maximum 8-hour ozone concentrations in μg/m³"
      - name: month_rank
        description: "Rank of month within year based on ozone levels (1-3 for peak season)" 